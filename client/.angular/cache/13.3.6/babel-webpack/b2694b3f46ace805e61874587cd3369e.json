{"ast":null,"code":"import { take } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/_services/book.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = [\"editForm\"];\n\nfunction BookEditComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \"Title is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookEditComponent_div_18_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Price is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookEditComponent_div_18_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Price should be 0 or higher.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookEditComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtemplate(1, BookEditComponent_div_18_div_1_Template, 2, 0, \"div\", 27);\n    i0.ɵɵtemplate(2, BookEditComponent_div_18_div_2_Template, 2, 0, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r3 = i0.ɵɵreference(17);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors == null ? null : _r3.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors == null ? null : _r3.errors[\"min\"]);\n  }\n}\n\nfunction BookEditComponent_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const c_r12 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", c_r12.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(c_r12.payload.val().name);\n  }\n}\n\nfunction BookEditComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1, \" Category is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookEditComponent_div_33_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"ImageUrl is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookEditComponent_div_33_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"ImageUrl is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookEditComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtemplate(1, BookEditComponent_div_33_div_1_Template, 2, 0, \"div\", 27);\n    i0.ɵɵtemplate(2, BookEditComponent_div_33_div_2_Template, 2, 0, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r8 = i0.ɵɵreference(32);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r8.errors == null ? null : _r8.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r8.errors == null ? null : _r8.errors[\"url\"]);\n  }\n}\n\nexport class BookEditComponent {\n  constructor(router, route, bookService) {\n    this.router = router;\n    this.route = route;\n    this.bookService = bookService;\n    this.id = this.route.snapshot.paramMap.get('id');\n    if (this.id) this.bookService.get(this.id).pipe(take(1)).subscribe(b => this.book = b);\n  }\n\n  ngOnInit() {}\n\n  save(book) {\n    if (this.id) {\n      this.bookService.update(this.id, book);\n    } else {\n      this.bookService.creat(book);\n    }\n\n    this.router.navigate(['/admin/book']);\n  }\n\n  delete() {\n    if (!confirm('Are you sure you want to delete this book?')) return;\n    this.bookService.delete(this.id);\n    this.router.navigate(['/admin/products']);\n  }\n\n}\n\nBookEditComponent.ɵfac = function BookEditComponent_Factory(t) {\n  return new (t || BookEditComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.BookService));\n};\n\nBookEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BookEditComponent,\n  selectors: [[\"app-book-edit\"]],\n  viewQuery: function BookEditComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.editForm = _t.first);\n    }\n  },\n  decls: 40,\n  vars: 14,\n  consts: [[1, \"row\"], [1, \"col-md-6\"], [3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"form-group\", \"mb-3\"], [\"for\", \"name\"], [\"name\", \"name\", \"id\", \"title\", \"type\", \"text\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"ngModel\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"form-group\"], [\"for\", \"price\"], [1, \"input-group\", \"mb-3\"], [1, \"input-group-text\"], [\"name\", \"price\", \"id\", \"price\", \"type\", \"number\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"min\", \"ngModelChange\"], [\"price\", \"ngModel\"], [\"for\", \"category\"], [\"name\", \"category\", \"id\", \"category\", \"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"category\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"imageUrl\"], [\"name\", \"imageUrl\", \"id\", \"imageUrl\", \"type\", \"text\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"imageUrl\", \"ngModel\"], [1, \"btn\", \"btn-primary\", \"me-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [3, \"product\", \"show-action\"], [1, \"alert\", \"alert-danger\"], [4, \"ngIf\"], [3, \"value\"]],\n  template: function BookEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r15 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function BookEditComponent_Template_form_ngSubmit_2_listener() {\n        i0.ɵɵrestoreView(_r15);\n\n        const _r0 = i0.ɵɵreference(3);\n\n        return ctx.save(_r0.value);\n      });\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"label\", 5);\n      i0.ɵɵtext(6, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 6, 7);\n      i0.ɵɵlistener(\"ngModelChange\", function BookEditComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.book.name = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, BookEditComponent_div_9_Template, 2, 0, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 9)(11, \"label\", 10);\n      i0.ɵɵtext(12, \"Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 11)(14, \"span\", 12);\n      i0.ɵɵtext(15, \"$\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 13, 14);\n      i0.ɵɵlistener(\"ngModelChange\", function BookEditComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.product.payload.val().price = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(18, BookEditComponent_div_18_Template, 3, 2, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 4)(20, \"label\", 15);\n      i0.ɵɵtext(21, \"Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"select\", 16, 17);\n      i0.ɵɵlistener(\"ngModelChange\", function BookEditComponent_Template_select_ngModelChange_22_listener($event) {\n        return ctx.product.payload.val().category = $event;\n      });\n      i0.ɵɵelement(24, \"option\", 18);\n      i0.ɵɵtemplate(25, BookEditComponent_option_25_Template, 2, 2, \"option\", 19);\n      i0.ɵɵpipe(26, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(27, BookEditComponent_div_27_Template, 2, 0, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 4)(29, \"label\", 20);\n      i0.ɵɵtext(30, \"ImageUrl\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"input\", 21, 22);\n      i0.ɵɵlistener(\"ngModelChange\", function BookEditComponent_Template_input_ngModelChange_31_listener($event) {\n        return ctx.product.payload.val().imageUrl = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(33, BookEditComponent_div_33_Template, 3, 2, \"div\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"button\", 23);\n      i0.ɵɵtext(35, \"Save\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"button\", 24);\n      i0.ɵɵlistener(\"click\", function BookEditComponent_Template_button_click_36_listener() {\n        return ctx.delete();\n      });\n      i0.ɵɵtext(37, \"Delete\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(38, \"div\", 1);\n      i0.ɵɵelement(39, \"product-card\", 25);\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      const _r3 = i0.ɵɵreference(17);\n\n      const _r5 = i0.ɵɵreference(23);\n\n      const _r8 = i0.ɵɵreference(32);\n\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.book.name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.title.invalid && (ctx.title.dirty || ctx.title.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.product.payload.val().price)(\"min\", 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r3.invalid && (_r3.dirty || _r3.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.product.payload.val().category);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(26, 12, ctx.categories$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r5.invalid && (_r5.dirty || _r5.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.product.payload.val().imageUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r8.invalid && (_r8.dirty || _r8.touched));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"product\", ctx.product)(\"show-action\", false);\n    }\n  },\n  directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.NgModel, i4.NgIf, i3.NumberValueAccessor, i3.MinValidator, i3.SelectControlValueAccessor, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i4.NgForOf],\n  pipes: [i4.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJib29rLWVkaXQuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["C:/Users/Mohamed/Desktop/Bookstore Inventory/client/src/app/_admin/book-edit/book-edit.component.ts"],"names":["take","i0","i1","i2","i3","i4","_c0","BookEditComponent_div_9_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","BookEditComponent_div_18_div_1_Template","BookEditComponent_div_18_div_2_Template","BookEditComponent_div_18_Template","ɵɵtemplate","ɵɵnextContext","_r3","ɵɵreference","ɵɵadvance","ɵɵproperty","errors","BookEditComponent_option_25_Template","c_r12","$implicit","key","ɵɵtextInterpolate","payload","val","name","BookEditComponent_div_27_Template","BookEditComponent_div_33_div_1_Template","BookEditComponent_div_33_div_2_Template","BookEditComponent_div_33_Template","_r8","BookEditComponent","constructor","router","route","bookService","id","snapshot","paramMap","get","pipe","subscribe","b","book","ngOnInit","save","update","creat","navigate","delete","confirm","ɵfac","BookEditComponent_Factory","t","ɵɵdirectiveInject","Router","ActivatedRoute","BookService","ɵcmp","ɵɵdefineComponent","type","selectors","viewQuery","BookEditComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","editForm","first","decls","vars","consts","template","BookEditComponent_Template","_r15","ɵɵgetCurrentView","ɵɵlistener","BookEditComponent_Template_form_ngSubmit_2_listener","ɵɵrestoreView","_r0","value","BookEditComponent_Template_input_ngModelChange_7_listener","$event","BookEditComponent_Template_input_ngModelChange_16_listener","product","price","BookEditComponent_Template_select_ngModelChange_22_listener","category","ɵɵelement","ɵɵpipe","BookEditComponent_Template_input_ngModelChange_31_listener","imageUrl","BookEditComponent_Template_button_click_36_listener","_r5","title","invalid","dirty","touched","ɵɵpipeBind1","categories$","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","RequiredValidator","NgControlStatus","NgModel","NgIf","NumberValueAccessor","MinValidator","SelectControlValueAccessor","NgSelectOption","ɵNgSelectMultipleOption","NgForOf","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import { take } from 'rxjs';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"src/app/_services/book.service\";\r\nimport * as i3 from \"@angular/forms\";\r\nimport * as i4 from \"@angular/common\";\r\nconst _c0 = [\"editForm\"];\r\nfunction BookEditComponent_div_9_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 26);\r\n    i0.ɵɵtext(1, \"Title is required.\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction BookEditComponent_div_18_div_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵtext(1, \"Price is required.\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction BookEditComponent_div_18_div_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵtext(1, \"Price should be 0 or higher.\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction BookEditComponent_div_18_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 26);\r\n    i0.ɵɵtemplate(1, BookEditComponent_div_18_div_1_Template, 2, 0, \"div\", 27);\r\n    i0.ɵɵtemplate(2, BookEditComponent_div_18_div_2_Template, 2, 0, \"div\", 27);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    i0.ɵɵnextContext();\r\n    const _r3 = i0.ɵɵreference(17);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", _r3.errors == null ? null : _r3.errors[\"required\"]);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", _r3.errors == null ? null : _r3.errors[\"min\"]);\r\n} }\r\nfunction BookEditComponent_option_25_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"option\", 28);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const c_r12 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"value\", c_r12.key);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate(c_r12.payload.val().name);\r\n} }\r\nfunction BookEditComponent_div_27_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 26);\r\n    i0.ɵɵtext(1, \" Category is required.\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction BookEditComponent_div_33_div_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵtext(1, \"ImageUrl is required.\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction BookEditComponent_div_33_div_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵtext(1, \"ImageUrl is required.\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction BookEditComponent_div_33_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 26);\r\n    i0.ɵɵtemplate(1, BookEditComponent_div_33_div_1_Template, 2, 0, \"div\", 27);\r\n    i0.ɵɵtemplate(2, BookEditComponent_div_33_div_2_Template, 2, 0, \"div\", 27);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    i0.ɵɵnextContext();\r\n    const _r8 = i0.ɵɵreference(32);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", _r8.errors == null ? null : _r8.errors[\"required\"]);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", _r8.errors == null ? null : _r8.errors[\"url\"]);\r\n} }\r\nexport class BookEditComponent {\r\n    constructor(router, route, bookService) {\r\n        this.router = router;\r\n        this.route = route;\r\n        this.bookService = bookService;\r\n        this.id = this.route.snapshot.paramMap.get('id');\r\n        if (this.id)\r\n            this.bookService.get(this.id).pipe(take(1)).subscribe((b) => this.book = b);\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    save(book) {\r\n        if (this.id) {\r\n            this.bookService.update(this.id, book);\r\n        }\r\n        else {\r\n            this.bookService.creat(book);\r\n        }\r\n        this.router.navigate(['/admin/book']);\r\n    }\r\n    delete() {\r\n        if (!confirm('Are you sure you want to delete this book?'))\r\n            return;\r\n        this.bookService.delete(this.id);\r\n        this.router.navigate(['/admin/products']);\r\n    }\r\n}\r\nBookEditComponent.ɵfac = function BookEditComponent_Factory(t) { return new (t || BookEditComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.BookService)); };\r\nBookEditComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: BookEditComponent, selectors: [[\"app-book-edit\"]], viewQuery: function BookEditComponent_Query(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵviewQuery(_c0, 5);\r\n    } if (rf & 2) {\r\n        let _t;\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.editForm = _t.first);\r\n    } }, decls: 40, vars: 14, consts: [[1, \"row\"], [1, \"col-md-6\"], [3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"form-group\", \"mb-3\"], [\"for\", \"name\"], [\"name\", \"name\", \"id\", \"title\", \"type\", \"text\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"ngModel\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"form-group\"], [\"for\", \"price\"], [1, \"input-group\", \"mb-3\"], [1, \"input-group-text\"], [\"name\", \"price\", \"id\", \"price\", \"type\", \"number\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"min\", \"ngModelChange\"], [\"price\", \"ngModel\"], [\"for\", \"category\"], [\"name\", \"category\", \"id\", \"category\", \"required\", \"\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"category\", \"ngModel\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"imageUrl\"], [\"name\", \"imageUrl\", \"id\", \"imageUrl\", \"type\", \"text\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"imageUrl\", \"ngModel\"], [1, \"btn\", \"btn-primary\", \"me-2\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [3, \"product\", \"show-action\"], [1, \"alert\", \"alert-danger\"], [4, \"ngIf\"], [3, \"value\"]], template: function BookEditComponent_Template(rf, ctx) { if (rf & 1) {\r\n        const _r15 = i0.ɵɵgetCurrentView();\r\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", 2, 3);\r\n        i0.ɵɵlistener(\"ngSubmit\", function BookEditComponent_Template_form_ngSubmit_2_listener() { i0.ɵɵrestoreView(_r15); const _r0 = i0.ɵɵreference(3); return ctx.save(_r0.value); });\r\n        i0.ɵɵelementStart(4, \"div\", 4)(5, \"label\", 5);\r\n        i0.ɵɵtext(6, \"Name\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"input\", 6, 7);\r\n        i0.ɵɵlistener(\"ngModelChange\", function BookEditComponent_Template_input_ngModelChange_7_listener($event) { return ctx.book.name = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(9, BookEditComponent_div_9_Template, 2, 0, \"div\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(10, \"div\", 9)(11, \"label\", 10);\r\n        i0.ɵɵtext(12, \"Price\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(13, \"div\", 11)(14, \"span\", 12);\r\n        i0.ɵɵtext(15, \"$\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"input\", 13, 14);\r\n        i0.ɵɵlistener(\"ngModelChange\", function BookEditComponent_Template_input_ngModelChange_16_listener($event) { return ctx.product.payload.val().price = $event; });\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵtemplate(18, BookEditComponent_div_18_Template, 3, 2, \"div\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(19, \"div\", 4)(20, \"label\", 15);\r\n        i0.ɵɵtext(21, \"Category\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"select\", 16, 17);\r\n        i0.ɵɵlistener(\"ngModelChange\", function BookEditComponent_Template_select_ngModelChange_22_listener($event) { return ctx.product.payload.val().category = $event; });\r\n        i0.ɵɵelement(24, \"option\", 18);\r\n        i0.ɵɵtemplate(25, BookEditComponent_option_25_Template, 2, 2, \"option\", 19);\r\n        i0.ɵɵpipe(26, \"async\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(27, BookEditComponent_div_27_Template, 2, 0, \"div\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(28, \"div\", 4)(29, \"label\", 20);\r\n        i0.ɵɵtext(30, \"ImageUrl\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(31, \"input\", 21, 22);\r\n        i0.ɵɵlistener(\"ngModelChange\", function BookEditComponent_Template_input_ngModelChange_31_listener($event) { return ctx.product.payload.val().imageUrl = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(33, BookEditComponent_div_33_Template, 3, 2, \"div\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(34, \"button\", 23);\r\n        i0.ɵɵtext(35, \"Save\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(36, \"button\", 24);\r\n        i0.ɵɵlistener(\"click\", function BookEditComponent_Template_button_click_36_listener() { return ctx.delete(); });\r\n        i0.ɵɵtext(37, \"Delete\");\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵelementStart(38, \"div\", 1);\r\n        i0.ɵɵelement(39, \"product-card\", 25);\r\n        i0.ɵɵelementEnd()();\r\n    } if (rf & 2) {\r\n        const _r3 = i0.ɵɵreference(17);\r\n        const _r5 = i0.ɵɵreference(23);\r\n        const _r8 = i0.ɵɵreference(32);\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.book.name);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.title.invalid && (ctx.title.dirty || ctx.title.touched));\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.product.payload.val().price)(\"min\", 0);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", _r3.invalid && (_r3.dirty || _r3.touched));\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.product.payload.val().category);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(26, 12, ctx.categories$));\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", _r5.invalid && (_r5.dirty || _r5.touched));\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.product.payload.val().imageUrl);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", _r8.invalid && (_r8.dirty || _r8.touched));\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"product\", ctx.product)(\"show-action\", false);\r\n    } }, directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.NgModel, i4.NgIf, i3.NumberValueAccessor, i3.MinValidator, i3.SelectControlValueAccessor, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i4.NgForOf], pipes: [i4.AsyncPipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJib29rLWVkaXQuY29tcG9uZW50LmNzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}